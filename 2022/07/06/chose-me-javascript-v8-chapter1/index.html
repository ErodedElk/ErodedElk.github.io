<!DOCTYPE html><html lang="en" theme-mode="dark"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Chose me  JavaScript-V8 /Chapter1-环境配置 | TokameinE - 雨声淅淅沥沥，犬吠永不止息</title><link rel="icon" type="image/x-icon" href="/favicon.ico"><script>var config = {"root":"/","search":{"preload":false,"activeHolder":"键入以继续","blurHolder":"数据检索","noResult":"无 $0 相关数据"},"code":{"codeInfo":"$0 - $1 行","copy":"code.copy","copyFinish":"code.copyFinish","expand":"code.expand"}}</script><script src="//unpkg.com/mermaid@9.2.2/dist/mermaid.min.js"></script><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lightgallery.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-zoom.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-thumbnail.css"><link type="text/css" rel="stylesheet" href="/lib/fontawesome/css/all.min.css"><link rel="stylesheet" href="/css/arknights.css"><script>if (window.localStorage.getItem('theme-mode') === 'light')
 document.documentElement.setAttribute('theme-mode', 'light')
if (window.localStorage.getItem('theme-mode') === 'dark')
 document.documentElement.setAttribute('theme-mode', 'dark')</script><style>@font-face {
 font-family: Bender;
 src: local('Bender'), url("/font/Bender.ttf"), url("/font/Bender.otf");
}
@font-face {
 font-family: BenderLight;
 src: local('BenderLight'), url("/font/BenderLight.ttf");
}
@font-face {
 font-family: 'JetBrains Mono';
 src: local('JetBrains Mono'), url('/font/JetBrainsMono-Regular.woff2') format('woff2');
}</style><style>:root {
  --dark-background: url('/img/bg.jpg');
  --light-background: url('/img/91110244_p0.jpg');
}</style><meta name="generator" content="Hexo 6.3.0"></head><body><div class="loading" style="opacity: 0;"><div class="loadingBar left"></div><div class="loadingBar right"></div></div><main><header class="closed"><div class="navBtn"><i class="navBtnIcon"><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span></i></div><nav><div class="navItem" id="search-header"><span class="navItemTitle"><input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="数据检索" spellcheck="false" maxlength="50" type="text" id="search-input"></span></div><div class="navItem" id="search-holder"></div><div class="search-popup"><div id="search-result"></div></div><ol class="navContent"><li class="navItem"><a class="navBlock" href="/"><span class="navItemTitle">Home</span></a></li><li class="navItem" matchdata="categories,tags"><a class="navBlock" href="/archives/"><span class="navItemTitle">Archives</span></a></li><li class="navItem"><a class="navBlock" href="/about/"><span class="navItemTitle">About</span></a></li><li class="navItem"><a class="navBlock" href="/links/"><span class="navItemTitle">Links</span></a></li></ol></nav></header><article><div id="post-bg"><div id="post-title"><h1>Chose me  JavaScript-V8 /Chapter1-环境配置</h1><div id="post-info"><span>文章发布时间: <div class="control"><time datetime="2022-07-06T13:13:55.000Z" id="date"> 2022-07-06</time></div></span><br><span>最后更新时间: <div class="control"><time datetime="2024-12-29T04:50:34.989Z" id="updated"> 2024-12-29</time></div></span></div></div><hr><div id="post-content"><h2 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h2><p>以下步骤一般情况下只在用户能够正常访问外网时成立。<br>大致来说，您需要为自己的设备和 git 配置代理，然后才能够顺利完成以下步骤，但出于某些原因，笔者不便在这里过多赘述配置代理的步骤，还望读者见谅</p>
<h2 id="运行环境"><a href="#运行环境" class="headerlink" title="运行环境"></a>运行环境</h2><h3 id="step-0"><a href="#step-0" class="headerlink" title="step 0"></a>step 0</h3><p>似乎现在去 clone 那个 depot_tools 的仓库里自带了 ninja，有需要这一步的师傅可以在后续步骤中遇到报错时再回来补</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">git clone https://github.com/ninja-build/ninja.git<br>cd ninja &amp;&amp; ./configure.py --bootstrap &amp;&amp; cd ..<br>echo &#x27;export PATH=$PATH:&quot;/path/to/ninja&quot;&#x27; &gt;&gt; ~/.bashrc<br># /path/to/ninja改成ninja的目录<br></code></pre></td></tr></table></figure>

<h3 id="step-1"><a href="#step-1" class="headerlink" title="step 1"></a>step 1</h3><p>安装依赖并克隆仓库，设置环境变量后拉取 v8 的代码<br>但考虑到中英文问题和一些网络代理问题，这里不安装字体依赖，有需要的师傅可以试着去掉该参数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">sudo apt install bison cdbs curl flex g++ git python vim pkg-config<br>git clone https://chromium.googlesource.com/chromium/tools/depot_tools.git<br>echo &#x27;export PATH=$PATH:&quot;/path/to/depot_tools&quot;&#x27; &gt;&gt; ~/.bashrc<br># /path/to/depot_tools改成depot_tools的目录<br>fetch v8<br>./v8/build/install-build-deps.sh --no-chromeos-fonts<br></code></pre></td></tr></table></figure>

<h3 id="step-2"><a href="#step-2" class="headerlink" title="step 2"></a>step 2</h3><p>写一个脚本去跑编译，方便以后直接换版本编译：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">#!/bin/bash<br>VER=$1 <br>if [ -z $2 ]; then<br>        NAME=$VER<br>else<br>        NAME=$2<br>fi<br>cd /path/depot_tools/v8<br># /path/depot_tools/v8 换成自己的路径<br>git reset --hard $VER<br>gclient sync -D<br>gn gen out/x64_$NAME.release --args=&#x27;v8_monolithic=true v8_use_external_startup_data=false is_component_build=false is_debug=false target_cpu =&quot;x64&quot; use_goma=false goma_dir=&quot;None&quot; v8_enable_backtrace=true v8_enable_disassembler=true v8_enable_object_print=true v8_enable_verify_heap=true&#x27;<br>ninja -C out/x64_$NAME.release d8<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">time ./build.sh &quot;9.6.180.6&quot;<br></code></pre></td></tr></table></figure>

<p>编译效率一般取决于自己的设备性能</p>
<h2 id="调试环境"><a href="#调试环境" class="headerlink" title="调试环境"></a>调试环境</h2><p>将 “v8&#x2F;tools&#x2F;gdbinit” 保存到自己惯用的目录下，这里称之为 “path”，然后将路径写到 .gdbinit 下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">cp v8/tools/gdbinit /path/gdbinit_v8<br>cat ~/.gdbinit<br>#source /home/tokameine/Desktop/env/pwndbg/gdbinit.py<br>#source /path/gdbinit_v8<br></code></pre></td></tr></table></figure>

<p>做完以后，就能够在源代码中插入如下代码进行调试了：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">%DebugPrint(x); 打印变量 x 的相关信息<br>%SystemBreak(); 抛出中断，令 gdb 在此处断点<br></code></pre></td></tr></table></figure>

<blockquote>
<p>但这两条代码并非原有的语法，在执行时需添加参数 “–allow-natives-syntax”，<br>否则会提示 “SyntaxError: Unexpected token ‘%’”</p>
</blockquote>
<h2 id="调试样本"><a href="#调试样本" class="headerlink" title="调试样本"></a>调试样本</h2><p>就用一个简单的 demo 测试一下调试能够正常进行：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">//demo.js<br>%SystemBreak();<br>var wasmCode = new Uint8Array([0,97,115,109,1,0,0,0,1,133,128,128,128,0,1,96,0,1,127,3,130,128,128,128,0,1,0,4,132,128,128,128,0,1,112,0,0,5,131,128,128,128,0,1,0,1,6,129,128,128,128,0,0,7,145,128,128,128,0,2,6,109,101,109,111,114,121,2,0,4,109,97,105,110,0,0,10,138,128,128,128,0,1,132,128,128,128,0,0,65,42,11]);<br><br>var wasmModule = new WebAssembly.Module(wasmCode);<br>var wasmInstance = new WebAssembly.Instance(wasmModule, &#123;&#125;);<br>var f = wasmInstance.exports.main;<br>%DebugPrint(f);<br>%DebugPrint(wasmInstance);<br>%SystemBreak();<br></code></pre></td></tr></table></figure>

<blockquote>
<p>我们暂时不用在意这段代码在做什么，这无关紧要，我们现在只想知道调试环境是否能够正常工作而已，所以读者只需要知道有这么个变量名为 f 的变量即可</p>
</blockquote>
<p>在 v8&#x2F;out&#x2F;x64_$name.release 目录下可以找到二进制程序 d8，它才是解析执行 js 代码的引擎，通过 gdb 去调试该程序，并将 demo.js 作为参数传给它</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">$ gdb d8<br>pwndbg&gt; r --allow-natives-syntax /home/tokameine/Desktop/demo/test.js <br>pwndbg&gt; c<br></code></pre></td></tr></table></figure>

<p>可以看到 gdb 正常发生了中断，但由于我们调试的并非 js 脚本，所以自然不可能顺着脚本中断，而是在 d8 的某行机器码处中断了，此时它会打印出数组 f 的数据：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">pwndbg&gt; c<br>Continuing.<br>DebugPrint: 0x2bdb081d370d: [Function] in OldSpace<br> - map: 0x2bdb08204919 &lt;Map(HOLEY_ELEMENTS)&gt; [FastProperties]<br> - prototype: 0x2bdb081c3b4d &lt;JSFunction (sfi = 0x2bdb08144165)&gt;<br> - elements: 0x2bdb0800222d &lt;FixedArray[0]&gt; [HOLEY_ELEMENTS]<br> - function prototype: &lt;no-prototype-slot&gt;<br> - shared_info: 0x2bdb081d36e9 &lt;SharedFunctionInfo js-to-wasm::i&gt;<br> - name: 0x2bdb080051cd &lt;String[1]: #0&gt;<br> - builtin: GenericJSToWasmWrapper<br> - formal_parameter_count: 0<br> - kind: NormalFunction<br> - context: 0x2bdb081c3649 &lt;NativeContext[252]&gt;<br> - code: 0x2bdb0018d801 &lt;Code BUILTIN GenericJSToWasmWrapper&gt;<br> - Wasm instance: 0x2bdb081d35b9 &lt;Instance map = 0x2bdb08207399&gt;<br> - Wasm function index: 0<br> - properties: 0x2bdb0800222d &lt;FixedArray[0]&gt;<br> - All own properties (excluding elements): &#123;<br>    0x2bdb080048f1: [String] in ReadOnlySpace: #length: 0x2bdb08142339 &lt;AccessorInfo&gt; (const accessor descriptor), location: descriptor<br>    0x2bdb08004a21: [String] in ReadOnlySpace: #name: 0x2bdb081422f5 &lt;AccessorInfo&gt; (const accessor descriptor), location: descriptor<br>    0x2bdb08004029: [String] in ReadOnlySpace: #arguments: 0x2bdb0814226d &lt;AccessorInfo&gt; (const accessor descriptor), location: descriptor<br>    0x2bdb08004245: [String] in ReadOnlySpace: #caller: 0x2bdb081422b1 &lt;AccessorInfo&gt; (const accessor descriptor), location: descriptor<br> &#125;<br> - feedback vector: feedback metadata is not available in SFI<br>0x2bdb08204919: [Map]<br> - type: JS_FUNCTION_TYPE<br> - instance size: 28<br> - inobject properties: 0<br> - elements kind: HOLEY_ELEMENTS<br> - unused property fields: 0<br> - enum length: invalid<br> - stable_map<br> - callable<br> - back pointer: 0x2bdb080023b5 &lt;undefined&gt;<br> - prototype_validity cell: 0x2bdb08142405 &lt;Cell value= 1&gt;<br> - instance descriptors (own) #4: 0x2bdb081d0445 &lt;DescriptorArray[4]&gt;<br> - prototype: 0x2bdb081c3b4d &lt;JSFunction (sfi = 0x2bdb08144165)&gt;<br> - constructor: 0x2bdb08002235 &lt;null&gt;<br> - dependent code: 0x2bdb080021b9 &lt;Other heap object (WEAK_FIXED_ARRAY_TYPE)&gt;<br> - construction counter: 0<br><br>DebugPrint: 0x2bdb081d35b9: [WasmInstanceObject] in OldSpace<br> - map: 0x2bdb08207399 &lt;Map(HOLEY_ELEMENTS)&gt; [FastProperties]<br> - prototype: 0x2bdb08048079 &lt;Object map = 0x2bdb08207af1&gt;<br> - elements: 0x2bdb0800222d &lt;FixedArray[0]&gt; [HOLEY_ELEMENTS]<br> - module_object: 0x2bdb08049cbd &lt;Module map = 0x2bdb08207231&gt;<br> - exports_object: 0x2bdb08049e71 &lt;Object map = 0x2bdb08207bb9&gt;<br> - native_context: 0x2bdb081c3649 &lt;NativeContext[252]&gt;<br> - memory_object: 0x2bdb081d35a1 &lt;Memory map = 0x2bdb08207641&gt;<br> - table 0: 0x2bdb08049e41 &lt;Table map = 0x2bdb082074b1&gt;<br> - imported_function_refs: 0x2bdb0800222d &lt;FixedArray[0]&gt;<br> - indirect_function_table_refs: 0x2bdb0800222d &lt;FixedArray[0]&gt;<br> - managed_native_allocations: 0x2bdb08049df9 &lt;Foreign&gt;<br> - memory_start: 0x7f8f28000000<br> - memory_size: 65536<br> - imported_function_targets: 0x55b1281580e0<br> - globals_start: (nil)<br> - imported_mutable_globals: 0x55b128158210<br> - indirect_function_table_size: 0<br> - indirect_function_table_sig_ids: (nil)<br> - indirect_function_table_targets: (nil)<br> - properties: 0x2bdb0800222d &lt;FixedArray[0]&gt;<br> - All own properties (excluding elements): &#123;&#125;<br><br>0x2bdb08207399: [Map]<br> - type: WASM_INSTANCE_OBJECT_TYPE<br> - instance size: 240<br> - inobject properties: 0<br> - elements kind: HOLEY_ELEMENTS<br> - unused property fields: 0<br> - enum length: invalid<br> - stable_map<br> - back pointer: 0x2bdb080023b5 &lt;undefined&gt;<br> - prototype_validity cell: 0x2bdb08142405 &lt;Cell value= 1&gt;<br> - instance descriptors (own) #0: 0x2bdb080021c1 &lt;Other heap object (STRONG_DESCRIPTOR_ARRAY_TYPE)&gt;<br> - prototype: 0x2bdb08048079 &lt;Object map = 0x2bdb08207af1&gt;<br> - constructor: 0x2bdb081d242d &lt;JSFunction Instance (sfi = 0x2bdb081d2409)&gt;<br> - dependent code: 0x2bdb080021b9 &lt;Other heap object (WEAK_FIXED_ARRAY_TYPE)&gt;<br> - construction counter: 0<br></code></pre></td></tr></table></figure>

<p>另外，v8提供的gdbinit中额外支持了一条 “job” 命令，它可以用来打印对象的相关信息，这里我们可以用数组 a 进行测试：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">pwndbg&gt; job 0x2bdb081d370d<br>0x2bdb081d370d: [Function] in OldSpace<br> - map: 0x2bdb08204919 &lt;Map(HOLEY_ELEMENTS)&gt; [FastProperties]<br> - prototype: 0x2bdb081c3b4d &lt;JSFunction (sfi = 0x2bdb08144165)&gt;<br> - elements: 0x2bdb0800222d &lt;FixedArray[0]&gt; [HOLEY_ELEMENTS]<br> - function prototype: &lt;no-prototype-slot&gt;<br> - shared_info: 0x2bdb081d36e9 &lt;SharedFunctionInfo js-to-wasm::i&gt;<br> - name: 0x2bdb080051cd &lt;String[1]: #0&gt;<br> - builtin: GenericJSToWasmWrapper<br> - formal_parameter_count: 0<br> - kind: NormalFunction<br> - context: 0x2bdb081c3649 &lt;NativeContext[252]&gt;<br> - code: 0x2bdb0018d801 &lt;Code BUILTIN GenericJSToWasmWrapper&gt;<br> - Wasm instance: 0x2bdb081d35b9 &lt;Instance map = 0x2bdb08207399&gt;<br> - Wasm function index: 0<br> - properties: 0x2bdb0800222d &lt;FixedArray[0]&gt;<br> - All own properties (excluding elements): &#123;<br>    0x2bdb080048f1: [String] in ReadOnlySpace: #length: 0x2bdb08142339 &lt;AccessorInfo&gt; (const accessor descriptor), location: descriptor<br>    0x2bdb08004a21: [String] in ReadOnlySpace: #name: 0x2bdb081422f5 &lt;AccessorInfo&gt; (const accessor descriptor), location: descriptor<br>    0x2bdb08004029: [String] in ReadOnlySpace: #arguments: 0x2bdb0814226d &lt;AccessorInfo&gt; (const accessor descriptor), location: descriptor<br>    0x2bdb08004245: [String] in ReadOnlySpace: #caller: 0x2bdb081422b1 &lt;AccessorInfo&gt; (const accessor descriptor), location: descriptor<br> &#125;<br> - feedback vector: feedback metadata is not available in SFI<br></code></pre></td></tr></table></figure>

<p>其参数是之前 DebugPrint 打印出的地址，可以看见，该指令将对象的各个信息都打印出来了，但我们可以注意到，这个地址的最低位似乎没有四字节对齐，其真实地址是 0x2bdb081d370d-1，但使用 job 时需要将地址加一来区分对象类型和数字类型。如果给出的参数是真实地址，大致会像下面这样：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">pwndbg&gt; job 0x2bdb081d370d-1<br>Smi: 0x40e9b86 (68066182)<br># 0x40e9b86 * 2 = 81D370D-1<br></code></pre></td></tr></table></figure>

<blockquote>
<p>v8 储存数据的方式有些特别，它会让这些整数都乘以二，也包括数组的长度，因此当 job 认为该地址是一个数字类型时，会将其除以二后的值当作本来的值</p>
</blockquote>
<p>可以通过其他查看真正的内存数据：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">pwndbg&gt; x/20xw 0x2bdb081d370d-1<br>0x2bdb081d370c:    0x08204919  0x0800222d  0x0800222d  0x081d36e9<br>0x2bdb081d371c:    0x081c3649  0x0814244d  0x0018d801  0x080026c1<br>0x2bdb081d372c:    0x00000008  0x00000000  0x00000002  0x0800528d<br>0x2bdb081d373c:    0x08207bbb  0x00000000  0x00000000  0x00000000<br>0x2bdb081d374c:    0x00000000  0x00000000  0x00000000  0x00000000<br></code></pre></td></tr></table></figure>

<p>可以发现，v8 对地址数据进行了压缩储存，由于高 32bit 的地址完全相同，每个地址只会存放其低 32bit 的数据</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul>
<li><a target="_blank" rel="noopener" href="https://nobb.site/2021/12/01/0x69/">https://nobb.site/2021/12/01/0x69/</a></li>
<li><a target="_blank" rel="noopener" href="https://mem2019.github.io/jekyll/update/2019/07/18/V8-Env-Config.html">https://mem2019.github.io/jekyll/update/2019/07/18/V8-Env-Config.html</a></li>
</ul>
<hr>
<p>插画ID：95370072</p>
<div id="paginator"></div></div><div id="post-footer"><div id="pages"><div class="footer-link" style="width: 50%;text-align:right;border-right:1px #fe2 solid"><a href="/2022/07/06/chose-me-javascript-v8-chapter2/">← 下一篇 Chose me  JavaScript-V8 /Chapter2-通用利用链</a></div><div class="footer-link" style="width: 50%;right:1px;border-left:1px #fe2 solid"><a href="/2022/06/22/operating-system-record/">操作系统课程设计Record 上一篇 →</a></div></div></div></div><div class="bottom-btn"><div><a class="i-top" id="to-top" onClick="scrolls.scrolltop();" title="回到顶部" style="opacity: 0; display: none;">∧ </a><a class="i-index" id="to-index" href="#toc-div" title="文章目录">≡</a><a class="i-color" id="color-mode" onClick="colorMode.change()" title="切换主题"></a></div></div></article><aside><div id="about"><a href="/" id="logo"><img src="/img/faction/6.png" alt="Logo"></a><h1 id="Dr"><a href="TokameinE">TokameinE</a></h1><div id="description"><p></p></div><div id="social-links"><a class="social" target="_blank" rel="noopener" href="https://github.com/ErodedElk"><i class="fab fa-github" alt="GitHub"></i></a><a class="social" target="_blank" rel="noopener" href="https://space.bilibili.com/1782544616"><i class="fa-brands fa-bilibili" alt="BiliBili"></i></a></div></div><div id="aside-block"><div id="toc-div"><h1>目录</h1><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%99%E5%9C%A8%E5%89%8D%E9%9D%A2"><span class="toc-number">1.</span> <span class="toc-text">写在前面</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E7%8E%AF%E5%A2%83"><span class="toc-number">2.</span> <span class="toc-text">运行环境</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#step-0"><span class="toc-number">2.1.</span> <span class="toc-text">step 0</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#step-1"><span class="toc-number">2.2.</span> <span class="toc-text">step 1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#step-2"><span class="toc-number">2.3.</span> <span class="toc-text">step 2</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B0%83%E8%AF%95%E7%8E%AF%E5%A2%83"><span class="toc-number">3.</span> <span class="toc-text">调试环境</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B0%83%E8%AF%95%E6%A0%B7%E6%9C%AC"><span class="toc-number">4.</span> <span class="toc-text">调试样本</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83"><span class="toc-number">5.</span> <span class="toc-text">参考</span></a></li></ol></div></div><footer><nobr>构建自 <a target="_blank" rel="noopener" href="http://hexo.io">Hexo</a></nobr><wbr><nobr> 使用主题 <a target="_blank" rel="noopener" href="https://github.com/Yue-plus/hexo-theme-arknights">Arknights</a></nobr><wbr><nobr> 主题作者 <a target="_blank" rel="noopener" href="https://github.com/Yue-plus">Yue_plus</a></nobr></footer></aside></main><canvas id="canvas-dust"></canvas><script src="/js/search.js"></script><script src="/js/arknights.js"></script><script src="//unpkg.com/lightgallery@2.7.1/lightgallery.min.js"></script><script src="//unpkg.com/lightgallery@2.7.1/plugins/zoom/lg-zoom.min.js"></script><script src="//unpkg.com/lightgallery@2.7.1/plugins/thumbnail/lg-thumbnail.min.js"></script><script src="/js/pjax.js"></script><script class="pjax-js">reset= () => {document.querySelector('.lg-container')?.remove()
lightGallery(document.getElementById('post-bg'), {
  plugins: [lgZoom,lgThumbnail],
  selector: '.item-img'})}</script><script>window.addEventListener("load",() => {pjax = new Pjax({
 cacheBust: false,
 selectors: ['title','article','#aside-block','.pjax-js'],
 switches: {'article': Pjax.switches.sideBySide},
 switchesOptions: {
   'article': {
     classNames: {
       remove: "pjax-out",
       add: "pjax-in"
     }
   }
 }
});
document.addEventListener("pjax:complete", reset);reset()})</script></body></html>